(function(){"use strict";var e={6798:function(e,t,n){var r=n(9242),i=n(3396);const o=e=>((0,i.dD)("data-v-3ff724b8"),e=e(),(0,i.Cn)(),e),s={id:"app"},a=o((()=>(0,i._)("h1",null,"都道府県別 人口の推移",-1))),c={id:"chart-area"};function u(e,t,n,r,o,u){const d=(0,i.up)("controlPref"),l=(0,i.up)("Highcharts");return(0,i.wg)(),(0,i.iD)("div",s,[a,(0,i.Wm)(d,{onOnAddSeries:u.addSeries,onOnRemoveSeries:u.removeSeries},null,8,["onOnAddSeries","onOnRemoveSeries"]),(0,i._)("div",c,[(0,i.Wm)(l,{options:o.options},null,8,["options"])])])}n(7658);var d=n(7139);const l=e=>((0,i.dD)("data-v-16ab127e"),e=e(),(0,i.Cn)(),e),f=l((()=>(0,i._)("div",{class:"toggle-title"},[(0,i._)("button",{type:"button"},"都道府県を選択 ▼")],-1))),p={class:"prefectures-area"},h=["id","onChange"];function v(e,t,n,r,o,s){return(0,i.wg)(),(0,i.iD)(i.HY,null,[f,(0,i._)("div",p,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.prefectures,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id,class:"prefecture"},[(0,i._)("label",null,[(0,i._)("input",{type:"checkbox",id:e.id,onChange:t=>s.changed(e)},null,40,h),(0,i.Uk)(" "+(0,d.zw)(e.name),1)])])))),128))])],64)}var g=n(70),m=n(3022),b=n.n(m),y="Ea3RqjQjtf8O2XxJHuVlzUJLSxoClMzDpDSwg1IO",w={data(){return{prefectures:[],population:[],selectedPrefectures:[]}},emits:["onAddSeries","onRemoveSeries"],mounted(){this.getPrefectures(),b()((function(){b()(".toggle-title").click((function(){b()(".prefectures-area").toggleClass("active"),b()(this).next("prefectures-area").slideToggle()}))}))},methods:{fetchAPI:function(e){const t=g.ZP.get(`https://opendata.resas-portal.go.jp/api/v1/${e}`,{headers:{"X-API-KEY":y}});return t},getPrefectures:async function(){const e="prefectures",t=await this.fetchAPI(e);this.prefectures=t.data.result.map((e=>({id:e["prefCode"],name:e["prefName"],isChecked:!1})))},changed(e){e.isChecked=!e.isChecked,e.isChecked?(this.getPopulation(e),this.disabledCheckbox(e.id)):this.$emit("onRemoveSeries",e.name)},getPopulation:async function(e){const t=[],n=`population/composition/perYear?&prefCode=${e.id}`,r=await this.fetchAPI(n);for(var i=0;i<12;i++)t.push(r.data.result.data[0].data[i].value);this.$emit("onAddSeries",t,e.name)},disabledCheckbox(e){document.getElementById(e).setAttribute("disabled",!0),setTimeout((function(){document.getElementById(e).removeAttribute("disabled")}),500)}}},C=n(89);const x=(0,C.Z)(w,[["render",v],["__scopeId","data-v-16ab127e"]]);var O=x,_=n(5476),k=n.n(_),A={name:"App",components:{Highcharts:k(),controlPref:O},data(){return{options:{series:[],title:{style:{display:"none"}},legend:{align:"right",verticalAlign:"top",layout:"vertical"},xAxis:{title:{text:"年度"},categories:[1960,1965,1970,1975,1980,1985,1990,1995,2e3,2005,2010,2015]},yAxis:{title:{text:"人口数"}},tooltip:{formatter:function(){return this.x+"年<br>"+`<span style="color:${this.color}"> ● </span>`+this.series.name+": "+k().numberFormat(Math.round(this.y),0,"",",")+"人"}}}}},methods:{drawChart:async function(e){k().chart("chart-area",e)},addSeries:async function(e,t){this.options.series.push({name:t,data:e}),this.drawChart(this.options)},removeSeries:function(e){var t=this.options.series.indexOf(this.options.series.find((t=>t.name==e)));this.options.series.splice(t,1),this.drawChart(this.options)}}};const P=(0,C.Z)(A,[["render",u],["__scopeId","data-v-3ff724b8"]]);var S=P;(0,r.ri)(S).mount("#app")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,i,o){if(!r){var s=1/0;for(d=0;d<e.length;d++){r=e[d][0],i=e[d][1],o=e[d][2];for(var a=!0,c=0;c<r.length;c++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(a=!1,o<s&&(s=o));if(a){e.splice(d--,1);var u=i();void 0!==u&&(t=u)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,i,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,o,s=r[0],a=r[1],c=r[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)var d=c(n)}for(t&&t(r);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},r=self["webpackChunkresas_chart_js"]=self["webpackChunkresas_chart_js"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(6798)}));r=n.O(r)})();
//# sourceMappingURL=app.5f6d31b1.js.map